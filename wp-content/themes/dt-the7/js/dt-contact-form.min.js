jQuery(function(a){function b(){var b=a("form.contact-form.dt-form");b.validationEngine({binded:!1,promptPosition:"inline",scroll:!1,autoHidePrompt:!1,maxErrorsPerField:1,custom_error_messages:{required:{message:dtLocal.contactMessages.required}},fadeDuration:500,addPromptClass:"run-animation",onAjaxFormComplete:function(){},addSuccessCssClassToField:"field-success",onBeforeAjaxFormValidation:function(b,c){var d=a(b);d.find(".formError").removeClass("first"),d.find("input").removeClass("error-field"),d.find("textarea").removeClass("error-field")},onFailure:function(b,c){var d=a(b);d.find(".formError .close-message").length<=0&&d.find(".formError").append('<span class="close-message"></span>')},onValidationComplete:function(b,c){var d=a(b);d.find(".formError").removeClass("first"),d.find("input").removeClass("error-field"),d.find("textarea").removeClass("error-field");var e=-1;if(d.find(".formError").each(function(){e++,a(this).eq(e).addClass("first"),a(this).prev().addClass("error-field")}),a(".formError .close-message").remove(),d.find(".formError .close-message").length<=0&&d.find(".formError").append('<span class="close-message"></span>'),c){var f={action:"dt_send_mail",widget_id:a('input[name="widget_id"]',d).val(),send_message:a('input[name="send_message"]',d).val(),fields:{}};d.find('input[type="text"], textarea').each(function(){var b=a(this);f.fields[b.attr("name")]=b.val()}),a.post(dtLocal.ajaxurl,f,function(c){var e=a(b),f=c.success?"pass":"error";a('input[type="hidden"]',e).last().validationEngine("showPrompt",c.errors,f,"inline"),e.validationEngine("showPrompt","","","topRight"),c.success&&(e.find('input[type="text"], textarea').val(""),d.find(".formError .close-message").length<=0&&d.find(".formError").append('<span class="close-message"></span>'))})}}}),b.find(".dt-btn.dt-btn-submit").on("click",function(b){b.preventDefault();var c=a(this).parents("form");c.submit()}),b.find(".clear-form").on("click",function(b){b.preventDefault();var c=a(this).parents("form");c.length>0&&(c.find('input[type="text"], textarea').val(""),c.validationEngine("hide"))})}b()});